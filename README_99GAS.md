# 九九瓦斯行管理系統 2025

> Jy技術團隊開發 - BossJy

## 📋 系統概述

九九瓦斯行管理系統是一款專為台灣瓦斯行業設計的智能化、全方位管理平台。系統整合了客戶管理、訂單處理、庫存控制、成本分析、會計管理等核心功能，支持瓦斯、爐具、熱水器等多種產品類別。

## ✨ 核心功能

### 1. 客戶管理
- ✅ 客戶資料管理（姓名、電話、地址）
- ✅ 客戶類型區分
  - **現金客戶**：即時付款，享2%折扣
  - **月結客戶**：月結帳戶，享3%折扣，設定結帳週期
  - **VIP客戶**：尊享5%折扣
  - **批發商**：享10%折扣
- ✅ 客戶分組管理
- ✅ 客戶欠款餘額追蹤
- ✅ 信用額度管理

### 2. 訂單管理
- ✅ 多產品類別訂單（瓦斯、爐具、熱水器）
- ✅ 自動價格計算
- ✅ 折扣自動計算（根據客戶分組）
- ✅ 配送費管理（滿$2000免運費）
- ✅ 訂單狀態追蹤
  - 待處理 → 配送中 → 已完成 → 已取消
- ✅ 司機指派
- ✅ 配送記錄與簽名

### 3. 庫存管理
- ✅ 瓦斯產品庫存
  - 4kg 桶裝瓦斯
  - 10kg 桶裝瓦斯
  - 16kg 桶裝瓦斯
  - 20kg 標準桶裝瓦斯
  - 20kg 高級桶裝瓦斯
  - 50kg 商用桶裝瓦斯
- ✅ 爐具產品庫存
  - 卡式瓦斯爐
  - 單口/雙口傳統瓦斯爐
  - 三口/雙口IH電磁爐
- ✅ 熱水器產品庫存
  - 屋外型/屋內型瓦斯熱水器
  - 儲熱式電熱水器
- ✅ 進貨/退貨管理
- ✅ 庫存變動記錄
- ✅ 最低庫存警報

### 4. 抄錶計算（管線瓦斯客戶）
- ✅ 上期/本期讀數記錄
- ✅ 自動計算用量
- ✅ 單價設定
- ✅ 金額自動計算
- ✅ 統計期間設定
- ✅ 歷史抄錶記錄查詢

### 5. 支票管理
- ✅ 支票登記（支票號碼、銀行、金額）
- ✅ 到期日追蹤
- ✅ 支票狀態管理
  - 待兌現 → 已存入 → 已兌現 → 退票 → 已取消
- ✅ 關聯客戶與訂單

### 6. 成本分析
- ✅ 多類別成本記錄
  - 進貨成本
  - 配送成本
  - 人工成本
  - 水電費用
  - 租金費用
  - 維護費用
  - 其他費用
- ✅ 成本明細記錄
- ✅ 按類型/分類統計
- ✅ 營業額與成本對比
- ✅ 利潤分析
- ✅ 利潤率計算

### 7. 員工管理
- ✅ 員工資訊管理
- ✅ 職位分配
  - 管理員
  - 業務員
  - 司機
  - 會計
  - 管理層
- ✅ 員工活躍狀態管理
- ✅ 司機配送記錄

### 8. 月結報表
- ✅ 自動生成月結單
- ✅ 計算當月訂單總額
- ✅ 計算已付款金額
- ✅ 計算未付餘額
- ✅ 月結狀態管理
  - 草稿 → 已發送 → 已付款 → 逾期
- ✅ 逾期追蹤

### 9. 來電記錄
- ✅ 手機來電顯示
- ✅ 自動識別客戶（根據電話號碼）
- ✅ 通話狀態記錄
  - 來電
  - 去電
  - 未接
  - 已拒接
- ✅ 通話時長記錄
- ✅ 來電備註
- ✅ 歷史通話記錄查詢
- ✅ WebSocket即時推送

### 10. 營銷活動
- ✅ 促銷活動管理
- ✅ 活動類型
  - 折扣優惠
  - 免運費
  - 特價
  - 組合優惠
- ✅ 活動期間設定
- ✅ 最低消費門檻

### 11. 統計分析
- ✅ 多維度數據分析
- ✅ 圖表化營運概況
- ✅ 趨勢分析

## 💰 2025年台灣瓦斯參考價格

| 產品 | 參考價格 |
|------|----------|
| 4kg 桶裝瓦斯 | NT$220 |
| 10kg 桶裝瓦斯 | NT$360 |
| 16kg 桶裝瓦斯 | NT$550 |
| 20kg 標準桶裝瓦斯 | NT$620 |
| 20kg 高級桶裝瓦斯 | NT$730 |
| 50kg 商用桶裝瓦斯 | NT$1,550 |

## 🔧 技術架構

### 前端
- **框架**：Next.js 15 with App Router
- **語言**：TypeScript 5
- **樣式**：Tailwind CSS 4 + shadcn/ui
- **狀態管理**：Zustand + TanStack Query

### 後端
- **API**：Next.js API Routes
- **數據庫**：Prisma ORM + SQLite
- **SDK**：z-ai-web-dev-sdk (AI功能)

### 服務
- **WebSocket服務**：手機來電顯示（端口：3004）
- **Caddy Gateway**：反向代理和端口轉發

## 📊 數據模型

系統包含完整的數據模型：
- User（用戶/員工）
- Customer（客戶）
- ProductCategory（產品分類）
- Product（產品）
- Inventory（庫存）
- InventoryTransaction（庫存變動）
- CustomerGroup（客戶分組）
- GasOrder（訂單）
- GasOrderItem（訂單明細）
- MeterReading（抄錶記錄）
- Check（支票）
- DeliveryRecord（配送記錄）
- Promotion（促銷活動）
- CostRecord（成本記錄）
- CostItem（成本明細）
- CallRecord（來電記錄）
- AccountingSync（會計系統同步）
- MonthlyStatement（月結報表）
- CustomerExtra（客戶擴充資料）

## 🚀 擴展功能規劃

### 待開發功能
- [ ] 前台會計系統串接
- [ ] SQL Server 2008R2 數據庫同步
- [ ] 原生iOS應用（Swift/SwiftUI）
- [ ] 手機APP推送通知
- [ ] 條碼掃描功能
- [ ] GPS配送追蹤
- [ ] 電子簽名
- [ ] 線上支付整合
- [ ] 簡訊自動發送
- [ ] LINE官方帳號整合

### 整合計劃
- [ ] 單機版會計系統API對接
- [ ] SQL Server雙向數據同步
- [ ] 第三方配送系統整合
- [ ] 會計軟體匯出（Excel/CSV）

## 📱 關於原生iOS應用

九九瓦斯行管理系統的原生iOS應用將提供以下功能：

### iOS應用功能
- 📱 Swift/SwiftUI 開發
- 📱 Apple Design Guidelines
- 📱 支援iPhone和iPad
- 📱 推送通知
- 📱 來電顯示整合（CallKit）
- 📱 Face ID/Touch ID 認證
- 📱 離線資料同步
- 📱 GPS配送導航
- 📱 條碼掃描
- 📱 簽名板功能

### 開發路徑
由於iOS原生應用需要完整的Xcode項目，建議：
1. 使用此Web版作為原型驗證
2. 創建新的Xcode專案
3. 使用RESTful API與後端通信
4. 實施CallKit來電顯示
5. 提交App Store審核

## 📞 支援

- **開發團隊**：Jy技術團隊
- **技術總監**：BossJy
- **版本**：2025 Pro v2.0.0
- **授權**：© 2025 九九瓦斯行管理系統

## 📝 快速開始

1. 初始化系統（點擊「初始化系統」按鈕）
2. 新增客戶（選擇現金客戶或月結客戶）
3. 進貨瓦斯產品（管理庫存）
4. 創建訂單（瓦斯、爐具、熱水器）
5. 指派司機配送
6. 管線客戶使用抄錶功能
7. 月結客戶生成月結報表
8. 管理支票和成本
9. 查看來電記錄和統計分析

---

**九九瓦斯行管理系統 2025** - 讓您的瓦斯行業務智能升級！
