# 🎤 語音助手測試指南

**創建時間**: 2026-01-20  
**版本**: v1.0  
**語音服務**: 繁體中文模式

---

## 🎯 語音測試方式

### 方式一：測試頁面（最簡單）
```
http://localhost:8889/voice_test_simple.html
```

**使用方法**：
1. 點擊麥克風按鈕 🎤
2. 選擇預設測試按鈕
3. 觀看語音助手回覆

**預設測試按鈕**：
- 🗣️ **問候測試** - "你好，我是來了解瓦斯配送服務"
- ⛽ **瓦斯諮詢** - "今天瓦斯價格是多少？"
- 🚚 **配送查詢** - "我明天需要送瓦斯，可以安排嗎？"
- 👋 **結束對話** - "謝謝，掰掰"

### 方式二：API直接測試
```bash
# 測試問候語
curl -X POST http://localhost:8889/api/voice/simple \
  -H "Content-Type: application/json" \
  -d '{"text":"你好，我是新客戶"}'

# 測試價格詢問
curl -X POST http://localhost:8889/api/voice/simple \
  -H "Content-Type: application/json" \
  -d '{"text":"請問瓦斯價格多少錢？"}'

# 測試配送詢問
curl -X POST http://localhost:8889/api/voice/simple \
  -H "Content-Type: application/json" \
  -d '{"text":"明天可以送瓦斯嗎？"}'
```

### 方式三：後台管理系統
1. 登入: https://bossai.tiankai.it.com/
2. 帳號: `uu19700413` / `uu19700413`
3. 使用頁面中的"語音快速查詢"功能

### 方式四：LINE Bot 測試
1. 添加 LINE 好友
2. 發送語音或文字訊息
3. 語音助手自動回覆

---

## 🗣️ 語音測試內容範例

### 基礎問候語
- "你好"
- "嗨，我是新客戶"
- "哈囉，需要服務"
- "您好，想了解瓦斯配送"

### 瓦斯服務詢問
- "請問今天瓦斯價格多少？"
- "瓦斯價格有變動嗎？"
- "瓦斯桶多少錢？"
- "現在瓦斯費用多少？"

### 配送服務詢問
- "明天可以送瓦斯嗎？"
- "什麼時候可以配送？"
- "配送時間要多久？"
- "可以當日配送嗎？"
- "要提前多久預約？"

### 服務諮詢
- "我是老客戶，有優惠嗎？"
- "你們的服務範圍在哪裡？"
- "瓦斯有問題怎麼辦？"
- "設備故障要找誰？"
- "有客服電話嗎？"

### 故障維修
- "瓦斯漏氣怎麼辦？"
- "設備不穩定要找誰？"
- "瓦斯桶有問題"
- "管線要檢查"
- "安全檢查多少錢？"

### 結束對話
- "謝謝你的服務"
- "掰掰"
- "再見"
- "辛苦了"

---

## 🎵 語音文件說明

語音助手支援以下繁體中文語音文件：

1. **demo_female.mp3** - 女性聲音演示
2. **demo_male.mp3** - 男性聲音演示  
3. **taiwan_1.mp3** - 台灣口音1
4. **taiwan_2.mp3** - 台灣口音2
5. **sweet_1.mp3** - 甜美女聲1
6. **sweet_2.mp3** - 甜美女聲2

每次回覆會隨機選擇語音文件。

---

## 🔧 故障排除

### 如果語音助手沒有回覆：
1. 檢查語音服務是否運行
   ```bash
   curl http://localhost:8889/health
   ```

2. 檢查API是否正常
   ```bash
   curl -X POST http://localhost:8889/api/voice/simple \
     -H "Content-Type: application/json" \
     -d '{"text":"測試"}'
   ```

3. 檢查服務日誌
   ```bash
   tail -f /path/to/voice_service.log
   ```

### 如果回覆是英文：
請檢查語音配置是否為繁體中文模式。

### 如果語音文件播放失敗：
1. 檢查語音文件是否存在
2. 檢查瀏覽器是否支持MP3播放
3. 嘗試手動點擊語音播放

---

## 📱 移動端測試

### 手機瀏覽器測試
1. 打開手機瀏覽器
2. 訪問測試頁面
3. 點擊麥克風按鈕
4. 進行語音對話

### LINE App 測試
1. 打開 LINE App
2. 找到瓦斯行機器人
3. 發送語音訊息
4. 等待回覆

---

## 🎯 測試驗證清單

### 功能測試
- [ ] 問候語回覆正常
- [ ] 瓦斯詢問回覆正常
- [ ] 配送查詢回覆正常
- [ ] 價格詢問回覆正常
- [ ] 故障維修回覆正常
- [ ] 感謝語回覆正常

### 性能測試
- [ ] 回覆時間 < 3秒
- [ ] 語音播放正常
- [ ] 繁體中文正確顯示
- [ ] 無英文回覆
- [ ] 錯誤處理正常

### 用戶體驗測試
- [ ] 介面友好
- [ ] 按鈕響應正常
- [ ] 視覺回饋清晰
- [ ] 操作流程順暢

---

## 🚀 快速測試指令

**一鍵測試腳本**：
```bash
# 測試所有語音功能
for text in "你好" "瓦斯價格" "配送時間" "謝謝"; do
  curl -X POST http://localhost:8889/api/voice/simple \
    -H "Content-Type: application/json" \
    -d "{\"text\":\"$text\"}"
  echo ""
done
```

**批量測試**：
```bash
# 創建測試檔案
echo '{"text":"你好，我是新客戶"}' > test1.json
echo '{"text":"請問瓦斯價格多少？"}' > test2.json
echo '{"text":"明天可以送嗎？"}' > test3.json

# 執行批量測試
for file in test*.json; do
  echo "測試: $file"
  curl -X POST http://localhost:8889/api/voice/simple \
    -H "Content-Type: application/json" \
    -d "@$file"
  echo ""
  echo "---"
done
```

---

## 💡 測試技巧

1. **混合測試**: 文字+語音同時測試
2. **異常測試**: 發送無效輸入
3. **壓力測試**: 快速連續請求
4. **不同設備**: 電腦+手機+平板
5. **不同瀏覽器**: Chrome+Firefox+Safari

---

## 📞 技術支援

如遇到問題，請檢查：
1. 語音服務狀態
2. 網路連線
3. 瀏覽器相容性
4. 音頻權限設定

**聯絡方式**: 技術支援團隊

---

🎉 **祝您測試愉快！語音助手準備好為您服務了！**
