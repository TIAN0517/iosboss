# BossJy-99 系統使用說明

## 🚀 每日啟動

### 只需要一個動作：
```
雙擊「本地啟動.bat」
```

這會自動啟動：
- ✅ Next.js (端口 9999) - 主系統
- ✅ Python AI (端口 8888) - LINE Bot + AI

### 訪問地址
- 本地: http://localhost:9999
- 外網: http://49.158.236.211:9999

---

## 📊 服務架構

```
┌──────────────────────────────────────┐
│  本地開發                            │
├──────────────────────────────────────┤
│  Next.js (9999)                      │
│  ├── 前端界面                         │
│  └── API 路由                         │
│                                      │
│  Python AI (8888)                    │
│  ├── LINE Bot webhook                │
│  ├── GLM-4.7 AI                      │
│  └── 語音功能                        │
└──────────────────────────────────────┘
```

**API 串接**: Next.js 通過 HTTP 調用 Python AI

---

## 🌐 LINE Webhook

**需要 HTTPS！**

目前配置：
- URL: `https://linebot.tiankai.it.com/api/webhook/line`
- 使用 Cloudflare Tunnel 提供 HTTPS

**如果 LINE webhook 超時**：
1. 確認 Python AI 服務運行中
2. 檢查網路連接
3. 查看 Python AI 視窗日誌

---

## 📊 服務狀態檢查

### 本地檢查：
- 後台管理：http://localhost:9999
- Python AI：http://localhost:8888

### 外網檢查：
- LINE Bot：https://linebot.tiankai.it.com/api/webhook/line
- 後台管理：https://bossai.tiankai.it.com

---

## 🛑 停止服務

```
雙擊「stop-all-services.bat」
```

---

## 📋 帳號資訊

### 管理員帳號

| 帳號 | 密碼 | 姓名 | 權限 |
|------|------|------|------|
| admin | Uu19700413 | 管理員 | admin |
| bossjy | ji394su3@@ | BossJy | admin |
| kai801129 | 520520@@ | Kai | admin |
| tian1111 | tian1111 | Tian | admin |
| yzrong | yzrong123 | 彥榮 | staff |

---

## 🌐 LINE Webhook 配置

**URL**: `https://linebot.tiankai.it.com/api/webhook/line`

在 LINE Developer Console 填入此 URL。

---

## 📁 日誌位置

如果遇到問題，查看日誌：
- `logs\nextjs.log` - Next.js 日誌
- `logs\pythonai.log` - Python AI 日誌

---

## 🔧 常見問題

### Q: LINE Bot 沒有回應？
A: 檢查「一鍵啟動.bat」是否已執行，並查看 `logs\pythonai.log`

### Q: 無法訪問後台？
A: 確認「一鍵啟動.bat」已執行，等待 10 秒後重新整理

### Q: 需要重啟服務？
A: 執行「stop-all-services.bat」，然後再次執行「一鍵啟動.bat」

---

## 📞 技術支援

如有問題，請檢查：
1. 服務是否已啟動（任務管理員查看 node.exe、python.exe、cloudflared.exe）
2. 日誌檔案是否有錯誤訊息
3. 網路連接是否正常

---

**最後更新**: 2025-01-16
**狀態**: ✅ 所有服務正常運行
