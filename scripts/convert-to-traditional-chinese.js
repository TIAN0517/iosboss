/**
 * 批量轉換簡體中文到繁體中文
 * 用於數據庫相關文件
 */

const fs = require('fs');
const path = require('path');

// 簡繁對照表（常用詞）
const replacements = {
  '数据库': '數據庫',
  '数据': '數據',
  '系统': '系統',
  '信息': '資訊',
  '记录': '記錄',
  '日志': '日誌',
  '审计': '審計',
  '追踪': '追蹤',
  '查询': '查詢',
  '缓存': '緩存',
  '缓冲': '緩衝',
  '事务': '事務',
  '统一': '統一',
  '处理': '處理',
  '恢复': '恢復',
  '批量': '批次',
  '获取': '獲取',
  '设置': '設定',
  '删除': '刪除',
  '更新': '更新',
  '创建': '創建',
  '添加': '新增',
  '修改': '修改',
  '保存': '儲存',
  '错误': '錯誤',
  '失败': '失敗',
  '成功': '成功',
  '验证': '驗證',
  '确认': '確認',
  '检查': '檢查',
  '测试': '測試',
  '调试': '除錯',
  '运行': '執行',
  '启动': '啟動',
  '停止': '停止',
  '关闭': '關閉',
  '开启': '開啟',
  '连接': '連線',
  '断开': '斷開',
  '账号': '帳號',
  '账户': '帳戶',
  '密码': '密碼',
  '用户': '使用者',
  '客户': '客戶',
  '订单': '訂單',
  '产品': '產品',
  '库存': '庫存',
  '统计': '統計',
  '分析': '分析',
  '报表': '報表',
  '图表': '圖表',
  '显示': '顯示',
  '隐藏': '隱藏',
  '查看': '檢視',
  '搜索': '搜尋',
  '选择': '選擇',
  '筛选': '篩選',
  '排序': '排序',
  '导出': '匯出',
  '导入': '匯入',
  '打印': '列印',
  '复制': '複製',
  '粘贴': '貼上',
  '剪切': '剪下',
  '撤销': '復原',
  '重做': '重做',
  '保存': '儲存',
  '取消': '取消',
  '确定': '確定',
  '应用': '套用',
  '帮助': '說明',
  '关于': '關於',
  '版本': '版本',
  '作者': '作者',
  '版权': '版權',
  '许可': '授權',
  '协议': '協議',
  '服务器': '伺服器',
  '客户端': '客戶端',
  '网络': '網路',
  '互联网': '網際網路',
  '网站': '網站',
  '网页': '網頁',
  '浏览器': '瀏覽器',
  '电脑': '電腦',
  '计算机': '計算機',
  '软件': '軟體',
  '硬件': '硬體',
  '程序': '程式',
  '代码': '程式碼',
  '文件': '檔案',
  '文件夹': '資料夾',
  '目录': '目錄',
  '路径': '路徑',
  '地址': '位址',
  '链接': '連結',
  '页面': '頁面',
  '组件': '組件',
  '模块': '模組',
  '函数': '函數',
  '变量': '變數',
  '参数': '參數',
  '属性': '屬性',
  '方法': '方法',
  '类': '類別',
  '对象': '物件',
  '数组': '陣列',
  '字符串': '字串',
  '数字': '數字',
  '布尔': '布林',
  '空值': '空值',
  '未定义': '未定義',
  '接口': '介面',
  '类型': '類型',
  '注释': '註解',
  '文档': '文件',
  '示例': '範例',
  '参考': '參考',
  '注意': '注意',
  '警告': '警告',
  '提示': '提示',
  '说明': '說明',
  '简介': '簡介',
  '详情': '詳細資訊',
  '更多': '更多',
  '其他': '其他',
  '所有': '所有',
  '全部': '全部',
  '部分': '部分',
  '单个': '單個',
  '多个': '多個',
  '首次': '首次',
  '最后': '最後',
  '上次': '上次',
  '本次': '本次',
  '下次': '下次',
  '总是': '總是',
  '从未': '從未',
  '经常': '經常',
  '偶尔': '偶爾',
  '通常': '通常',
  '可能': '可能',
  '必须': '必須',
  '应该': '應該',
  '可以': '可以',
  '需要': '需要',
  '想要': '想要',
  '希望': '希望',
  '尝试': '嘗試',
  '继续': '繼續',
  '开始': '開始',
  '结束': '結束',
  '完成': '完成',
  '进行': '進行',
  '正在': '正在',
  '已经': '已經',
  '尚未': '尚未',
  '即将': '即將',
  '将要': '將要',
  '过去': '過去',
  '现在': '現在',
  '将来': '將來',
  '之前': '之前',
  '之后': '之後',
  '同时': '同時',
  '之后': '之後',
  '然而': '然而',
  '因此': '因此',
  '所以': '所以',
  '但是': '但是',
  '而且': '而且',
  '或者': '或者',
  '并且': '並且',
  '虽然': '雖然',
  '即使': '即使',
  '无论': '無論',
  '只有': '只有',
  '只要': '只要',
  '如果': '如果',
  '除非': '除非',
  '直到': '直到',
  '当': '當',
  '每': '每',
  '各': '各',
  '某个': '某個',
  '某些': '某些',
  '所有': '所有',
  '这种': '這種',
  '那种': '那種',
  '哪种': '哪種',
  '怎么': '怎麼',
  '什么': '什麼',
  '为什么': '為什麼',
  '多少钱': '多少錢',
  '时间': '時間',
  '日期': '日期',
  '年份': '年份',
  '月份': '月份',
  '日期': '日期',
  '小时': '小時',
  '分钟': '分鐘',
  '秒钟': '秒鐘',
  '今天': '今天',
  '明天': '明天',
  '昨天': '昨天',
  '本周': '本週',
  '上周': '上週',
  '下周': '下週',
  '本月': '本月',
  '上月': '上月',
  '下月': '下月',
  '今年': '今年',
  '去年': '去年',
  '明年': '明年',
  '业务': '業務',
  '企业': '企業',
  '公司': '公司',
  '机构': '機構',
  '组织': '組織',
  '部门': '部門',
  '团队': '團隊',
  '员工': '員工',
  '职员': '職員',
  '主管': '主管',
  '经理': '經理',
  '老板': '老闆',
  '客户': '客戶',
  '用户': '使用者',
  '消费者': '消費者',
  '供应商': '供應商',
  '合作伙伴': '合作夥伴',
  '联系人': '聯絡人',
  '电话': '電話',
  '手机': '手機',
  '地址': '地址',
  '邮箱': '信箱',
  '网站': '網站',
  '在线': '線上',
  '离线': '離線',
  '登录': '登入',
  '登出': '登出',
  '注册': '註冊',
  '订阅': '訂閱',
  '取消订阅': '取消訂閱',
  '关注': '關注',
  '粉丝': '粉絲',
  '点赞': '按讚',
  '分享': '分享',
  '评论': '留言',
  '留言': '留言',
  '回复': '回覆',
  '转发': '轉發',
  '收藏': '收藏',
  '下载': '下載',
  '上传': '上傳',
  '安装': '安裝',
  '卸载': '解除安裝',
  '更新': '更新',
  '升级': '升級',
  '降级': '降級',
  '版本': '版本',
  '测试版': '測試版',
  '正式版': '正式版',
  '开发': '開發',
  '开发中': '開發中',
  '已完成': '已完成',
  '进行中': '進行中',
  '未开始': '未開始',
  '已取消': '已取消',
  '已暂停': '已暫停',
  '等待中': '等待中',
  '处理中': '處理中',
  '成功': '成功',
  '失败': '失敗',
  '错误': '錯誤',
  '警告': '警告',
  '提示': '提示',
  '信息': '資訊',
  '调试': '除錯',
  '跟踪': '追蹤',
  '日志': '日誌',
  '输出': '輸出',
  '输入': '輸入',
};

// 需要處理的目錄
const directories = [
  'src/lib/database',
  'prisma'
];

function convertFile(filePath) {
  if (!fs.existsSync(filePath)) {
    console.log(`文件不存在: ${filePath}`);
    return;
  }

  let content = fs.readFileSync(filePath, 'utf8');
  let modified = false;

  // 執行替換
  for (const [simplified, traditional] of Object.entries(replacements)) {
    const regex = new RegExp(simplified, 'g');
    if (content.match(regex)) {
      content = content.replace(regex, traditional);
      modified = true;
    }
  }

  if (modified) {
    fs.writeFileSync(filePath, content, 'utf8');
    console.log(`✓ 已转换: ${filePath}`);
  } else {
    console.log(`- 无需转换: ${filePath}`);
  }
}

function processDirectory(dir) {
  const fullPath = path.join(__dirname, '..', dir);

  if (!fs.existsSync(fullPath)) {
    console.log(`目录不存在: ${fullPath}`);
    return;
  }

  const files = fs.readdirSync(fullPath);

  for (const file of files) {
    const filePath = path.join(fullPath, file);
    const stat = fs.statSync(filePath);

    if (stat.isDirectory()) {
      processDirectory(path.join(dir, file));
    } else if (file.match(/\.(ts|tsx|js|jsx|prisma)$/)) {
      convertFile(filePath);
    }
  }
}

// 主函數
function main() {
  console.log('开始转换简体中文到繁体中文...\n');

  for (const dir of directories) {
    console.log(`\n处理目录: ${dir}`);
    processDirectory(dir);
  }

  console.log('\n转换完成！');
}

main();
