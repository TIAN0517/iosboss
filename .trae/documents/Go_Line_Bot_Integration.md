# Go語言 LINE Bot 集成部署方案

## 🎯 **目標**
創建Go語言版本的LINE Bot，與現有Python版本並行運行，通過nginx集成部署，實現漸進式遷移。

## 📋 **實施計劃**

### **階段1：Go版本開發**
1. 創建Go語言LINE Bot核心功能
2. 實現LINE簽名驗證
3. 集成數據庫和知識庫API
4. 實現完整的業務邏輯

### **階段2：nginx集成配置**
1. 配置nginx支持兩個版本並行運行
2. 設置端口分流（Go版本使用不同端口）
3. 配置健康檢查和負載均衡
4. 測試nginx標頭轉發

### **階段3：漸進式遷移**
1. 保留Python版本作為備用
2. 逐步切換流量到Go版本
3. 監控性能和穩定性
4. 最終移除Python版本

## 🔧 **技術方案**

### **Go版本配置**
- 端口：5003（與Python 5001並存）
- 語言：Go 1.21+
- 框架：標準庫HTTP + gorilla/mux
- 數據庫：PostgreSQL
- 部署：單一可執行文件

### **nginx配置**
- `/api/webhook/line` → 指向Go版本 (5003)
- `/api/v2/*` → Go版本API
- `/health-go` → Go版本健康檢查
- `/health` → 保留Python版本

## 🚀 **優勢**
- 零停機部署
- 漸進式遷移
- 風險最小化
- 可回滾至Python版本