# 豆包語音助手升級開發計劃

## 目標
將現有的基礎語音助手升級為接近「豆包」體驗的智能助手，重點優化**視覺體驗**、**語音交互自然度**和**功能完整性**。

## 1. 視覺體驗升級 (UI/UX)
目前的界面較為傳統，將改造為現代化的動態交互界面。
- **動態球體動畫**：將靜態頭像替換為 CSS/Canvas 繪製的動態球體，模擬豆包的呼吸和說話狀態。
- **波紋可視化**：在用戶說話時，顯示實時音頻波形（利用 Web Audio API 分析音量）。
- **沉浸式佈局**：隱藏傳統聊天氣泡列表，改為以語音球體為中心的沉浸式界面，僅顯示實時字幕。

## 2. 語音交互體驗升級
解決「機械感」和「不流暢」的問題。
- **智能打斷 (Barge-in)**：
  - 監聽用戶說話狀態，一旦檢測到用戶開始說話（VAD），立即停止 AI 的語音播報。
  - 實現 `TextToSpeechService` 的 `cancel()` 與 `SpeechRecognitionService` 的聯動。
- **TTS 音色優化**：
  - 雖然目前依賴瀏覽器原生 TTS，但將優化參數（語速、音調）以適配中文。
  - 預留接口以支持智譜 GLM 的 TTS（需後端支持，本次先做好前端架構）。
- **連續對話模式**：
  - 實現「喚醒後持續監聽」模式，AI 回答後自動重新開啟麥克風，無需手動點擊。

## 3. 功能完善
- **流式響應 (Streaming)**：
  - 改造 `AIService` 支持流式輸出（Server-Sent Events），讓文字逐字顯示，減少等待感。
- **狀態反饋優化**：
  - 更清晰的「聆聽中」、「思考中」、「說話中」狀態切換。

## 執行步驟
1.  **重構 UI 組件**：創建 `VoiceSphere` 組件，替換現有的 Avatar。
2.  **升級語音服務**：在 `SpeechRecognitionService` 中添加 VAD（語音活動檢測）邏輯，用於觸發打斷。
3.  **整合交互邏輯**：修改 `VoiceAssistant.jsx`，串聯打斷和連續對話邏輯。
4.  **樣式美化**：更新 CSS，實現漸變背景和流暢動畫。
