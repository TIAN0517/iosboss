# 系統精簡與審計優化計劃

## 目標
根據您的指示，保留「唯一」且必要的系統組件，清理冗餘，確保所有功能已完整實作，並提供最終的審計報告與一鍵啟動方案。

## 1. 系統精簡與保留策略
目前的「唯一」定義為：**一套完整的運作系統**。
保留以下三個核心組件，缺一不可：
1.  **Go 後端 (Port 5003)**：LINE 機器人的核心大腦。
2.  **Next.js 前端 (Port 9999)**：管理後台與業務數據中心。
3.  **Voice Assistant (Port 3001)**：豆包語音助手前端。

**將被清理/停用的冗餘項目**：
- 舊版 Python LINE Bot 代碼與相關腳本。
- 舊版/重複的啟動腳本。
- 臨時測試文件與日誌。

## 2. 代碼審計與完整性檢查
- **Go 後端**：檢查 `main.go`, `database.go` 是否有未實現的邏輯（如 TODOs），確認錯誤處理是否完善。
- **Voice Assistant**：確認語音服務是否已切換至智譜 GLM，且降級機制有效。
- **環境變數**：確保 `.env` 文件無敏感信息洩露風險，且配置正確。

## 3. 創建「真·一鍵啟動」腳本
目前有多個分散的啟動腳本，將整合為一個 `START_ALL_SYSTEMS.bat`：
- 自動按順序啟動：Go 後端 -> Next.js 後台 -> 語音助手。
- 自動檢測端口佔用並處理。
- 提供統一的關閉功能。

## 4. 產出審計報告
- 生成 `FINAL_AUDIT_REPORT.md`，包含：
    - 系統架構圖。
    - 各組件狀態與端口。
    - 安全性檢查結果。
    - 已知限制與未來建議。

## 執行步驟
1.  **清理**：刪除舊版 Python Bot 相關文件（確認備份後）。
2.  **審計**：掃描關鍵代碼文件，修復發現的潛在問題。
3.  **整合**：編寫 `START_ALL_SYSTEMS.bat`。
4.  **報告**：撰寫最終審計報告。
